(()=>{"use strict";(()=>{let e=document.getElementById("register-c"),t=document.getElementById("show-profile-c");null==e||e.addEventListener("click",(function(){window.location.href="./candidate_registration.html"}));let n=document.getElementById("modal"),l=document.getElementById("behind-modal");null==t||t.addEventListener("click",(function(){n&&(n.style.display="flex"),l&&l.classList.add("modalBlur")}));let a=document.getElementById("exitModal");null==a||a.addEventListener("click",(function(){n&&(n.style.display="none"),l&&l.classList.remove("modalBlur")}));let i=document.getElementById("sigIn");null==i||i.addEventListener("click",(function(){let e=localStorage.getItem("candidateLocal"),t=document.getElementById("userName"),n=document.getElementById("userPass");if(e){var l=JSON.parse(e);if(l&&t&&n&&(a=l,i=t.value,c=n.value,a.name===i&&a.password===c))return void(window.location.href="./candidate_profile.html")}var a,i,c;alert("Error: login ou senha inválido")}));let c=document.getElementById("register");function r(e){return/^\d+$/.test(e)}function d(){let e=localStorage.getItem("companyLocal");if(e)var t=JSON.parse(e);if(t.vacancy){var n=localStorage.getItem("candidateLocal");if(n){var l=JSON.parse(n);if(t.vacancy.skills&&l.skills)var a=t.vacancy.skills.filter((e=>l.skills.includes(e)))}}let i=document.querySelector(".grid");if(i){var c=a.length/t.vacancy.skills.length*100;i.innerHTML=` <div id="vacancies">\n      <div class="vacancies-detail">\n        <div class="title">\n          <h3 id="titleVacancy">${t.vacancy.name}</h3>\n          <p id="dateVacancy">${t.vacancy.date}</p>\n        </div>\n        <p id="match">Match: ${c.toFixed(2).toString()}%</p>\n        \x3c!-- <i class="ph-fill ph-heart"></i> --\x3e\n      </div>\n    </div>`}}null==c||c.addEventListener("click",(function(){(function(){function e(e){return alert(e),!1}let t=document.getElementById("name"),n=document.getElementById("email"),l=document.getElementById("skills"),a=document.getElementById("age"),i=document.getElementById("cpf"),c=document.getElementById("cep"),d=document.getElementById("password"),o=document.getElementById("description");function u(e){return""===e.value.trim()}if((u(t)||u(n)||u(l)||u(a)||u(i)||u(c)||u(d)||u(o))&&e("Error: Nenhum campo pode estar vazio"),m="nome",(function(e){return/[/[0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(e)}((s=t).value)||r(s.value)?e(`Error: ${m} inválido`):s.value)&&function(t){return r(t.value)&&11===t.value.length?t.value:e("Error: cpf inválido")}(i)&&function(t){return r(t.value)?t.value:e("Error: idade inválida")}(a)&&function(t){return r(t.value)&&8===t.value.length?t.value:e("Error: cep inválido")}(c)&&function(t){return r(t.value)||t.value.length<10?e("Error: descrição inválida"):t.value}(o)&&function(t){return r(t.value)||!function(e){return/\S+@\w+\.\w{2,6}(\.\w{2})?/g.test(e)}(t.value)?e("Error: email inválido"):t.value}(n)){if(d&&d.value.length<8)return e("Error: senha muito curta"),!1;let r=new Set;l&&l.value&&(l.value.match(",")?r.add(l.value.split(",")):r.add(l.value.split(" ")));const u={name:t.value,age:Number.parseInt(a.value),email:n.value,skills:Array.from(r).join().toLowerCase().trim().split(/[;, ]+/),description:o.value,cpf:i.value,cep:Number.parseInt(c.value),password:d.value,applications:null};return localStorage.setItem("candidateLocal",JSON.stringify(u)),!0}var s,m;return!1})()&&(window.location.href="./candidate_profile.html")})),d(),document.addEventListener("DOMContentLoaded",(function(){let e=document.getElementById("vacancyLinkacancyLink");null==e||e.addEventListener("click",(function(){d()}))})),function(){let e=document.querySelector("tbody"),t=document.querySelector("tbody tr"),n=document.querySelector("table"),l=document.createElement("td"),a=document.createElement("td"),i=document.createElement("td"),c=localStorage.getItem("companyLocal");if(c)var r=JSON.parse(c);console.log(r.vacancy),r.vacancy&&(l.innerText=r.vacancy.name,a.innerText="x",i.innerText=r.vacancy.skills,null==t||t.appendChild(l),null==t||t.appendChild(a),null==t||t.appendChild(i),t&&e&&(null==e||e.appendChild(t),null==n||n.appendChild(e)))}()})()})();