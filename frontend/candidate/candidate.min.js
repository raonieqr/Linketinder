(() => {
  "use strict";
  var e = {
      531: function (e, t, n) {
        var a =
            (this && this.__createBinding) ||
            (Object.create
              ? function (e, t, n, a) {
                  void 0 === a && (a = n);
                  var i = Object.getOwnPropertyDescriptor(t, n);
                  (i &&
                    !("get" in i
                      ? !t.__esModule
                      : i.writable || i.configurable)) ||
                    (i = {
                      enumerable: !0,
                      get: function () {
                        return t[n];
                      },
                    }),
                    Object.defineProperty(e, a, i);
                }
              : function (e, t, n, a) {
                  void 0 === a && (a = n), (e[a] = t[n]);
                }),
          i =
            (this && this.__setModuleDefault) ||
            (Object.create
              ? function (e, t) {
                  Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t,
                  });
                }
              : function (e, t) {
                  e.default = t;
                }),
          l =
            (this && this.__importStar) ||
            function (e) {
              if (e && e.__esModule) return e;
              var t = {};
              if (null != e)
                for (var n in e)
                  "default" !== n &&
                    Object.prototype.hasOwnProperty.call(e, n) &&
                    a(t, e, n);
              return i(t, e), t;
            };
        Object.defineProperty(t, "__esModule", { value: !0 });
        const r = l(n(654)),
          o = document.getElementById("modal"),
          c = document.getElementById("behind-modal"),
          u = document.getElementById("register-c"),
          d = document.getElementById("show-profile-c"),
          s = document.getElementById("exitModal");
        u &&
          u.addEventListener("click", function () {
            window.location.href = "./candidate_registration.html";
          }),
          d &&
            d.addEventListener("click", function () {
              o && (o.style.display = "flex"),
                c && c.classList.add("modalBlur");
            }),
          s &&
            s.addEventListener("click", function () {
              o && (o.style.display = "none"),
                c && c.classList.remove("modalBlur");
            });
        const p = document.getElementById("sigIn");
        p &&
          p.addEventListener("click", function () {
            let e = localStorage.getItem("candidateLocal"),
              t = r.getInput("userName"),
              n = r.getInput("userPass");
            if (!e || !t || !n) return void alert("Error: campo vazio");
            const a = JSON.parse(e);
            r.isLoginValid(a, t.value, n.value)
              ? (window.location.href = "./candidate_profile.html")
              : alert("Error: login ou senha inválido");
          });
        const v = document.getElementById("register");
        function m() {
          const e = localStorage.getItem("companyLocal"),
            t = localStorage.getItem("candidateLocal"),
            n = document.querySelector(".grid");
          if (!e || !t) return void (n && (n.innerHTML = "<h2>Sem vaga</h2>"));
          const a = JSON.parse(e),
            i = JSON.parse(t);
          if (!a.vacancy || !a.vacancy.skills || !i.skills) return;
          const l = a.vacancy.skills.filter((e) => i.skills.includes(e));
          if (n) {
            var r = (l.length / a.vacancy.skills.length) * 100;
            n.innerHTML = ` <div id="vacancies">\n      <div class="vacancies-detail">\n        <div class="title">\n          <h3 id="titleVacancy">${
              a.vacancy.name
            }</h3>\n          <p id="dateVacancy">${
              a.vacancy.date
            }</p>\n        </div>\n        <p id="match">Match: ${r
              .toFixed(2)
              .toString()}%</p>\n        \x3c!-- <i class="ph-fill ph-heart"></i> --\x3e\n      </div>\n    </div>`;
          }
        }
        v &&
          v.addEventListener("click", function () {
            (function () {
              if (
                (function () {
                  const e = r.getInput("name"),
                    t = r.getInput("email"),
                    n = r.getInput("skills"),
                    a = r.getInput("age"),
                    i = r.getInput("cpf"),
                    l = r.getInput("cep"),
                    o = r.getInput("password"),
                    c = r.getInput("description");
                  if (
                    r.isEmpty(e) ||
                    r.isEmpty(t) ||
                    r.isEmpty(n) ||
                    r.isEmpty(a) ||
                    r.isEmpty(i) ||
                    r.isEmpty(l) ||
                    r.isEmpty(o) ||
                    r.isEmpty(c)
                  )
                    return alert("Error: Nenhum campo pode estar vazio"), !1;
                  const u =
                    r.validateInput(e, "nome") &&
                    r.validateCpf(i) &&
                    r.validateAge(a) &&
                    r.validateCep(l) &&
                    r.validateDescription(c) &&
                    r.validateEmail(t);
                  return !!r.validatePasswordLength(o) && u;
                })()
              ) {
                const e = r.getInput("name"),
                  t = r.getInput("email"),
                  n = r.getInput("skills"),
                  a = r.getInput("age"),
                  i = r.getInput("cpf"),
                  l = r.getInput("cep"),
                  o = r.getInput("password"),
                  c = r.getInput("description"),
                  u = r.parseSkillsInput(n);
                if (!(e && t && n && a && i && l && o && c))
                  return alert("Error: campo vazio"), !1;
                const d = {
                  name: e.value,
                  age: parseInt(a.value, 10),
                  email: t.value,
                  skills: Array.from(u)
                    .join()
                    .toLowerCase()
                    .trim()
                    .split(/[;, ]+/),
                  description: c.value,
                  cpf: i.value,
                  cep: parseInt(l.value, 10),
                  password: o.value,
                  applications: null,
                };
                return (
                  localStorage.setItem("candidateLocal", JSON.stringify(d)), !0
                );
              }
              return !1;
            })() && (window.location.href = "./candidate_profile.html");
          }),
          m(),
          document.addEventListener("DOMContentLoaded", function () {
            let e = document.getElementById("vacancyLink");
            e &&
              e.addEventListener("click", function () {
                m();
              });
          }),
          (function () {
            let e = document.querySelector("tbody"),
              t = document.querySelector("tbody tr"),
              n = document.querySelector("table"),
              a = document.createElement("td"),
              i = document.createElement("td"),
              l = document.createElement("td"),
              r = localStorage.getItem("companyLocal");
            if (r) var o = JSON.parse(r);
            o.vacancy &&
              ((a.innerText = o.vacancy.name),
              (i.innerText = "x"),
              (l.innerText = o.vacancy.skills),
              null == t || t.appendChild(a),
              null == t || t.appendChild(i),
              null == t || t.appendChild(l),
              t &&
                e &&
                (null == e || e.appendChild(t), null == n || n.appendChild(e)));
          })();
      },
      654: (e, t) => {
        function n(e) {
          return /^\d+$/.test(e);
        }
        function a(e) {
          return /[/[0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(e);
        }
        function i(e) {
          return /\S+@\w+\.\w{2,6}(\.\w{2})?/g.test(e);
        }
        function l(e) {
          return alert(e), !1;
        }
        Object.defineProperty(t, "__esModule", { value: !0 }),
          (t.getInput =
            t.isLoginValid =
            t.parseSkillsInput =
            t.validateCnpj =
            t.validatePasswordLength =
            t.isEmpty =
            t.validateDescription =
            t.validateEmail =
            t.validateCep =
            t.validateAge =
            t.validateCpf =
            t.validateInput =
            t.showAlert =
            t.validationEmail =
            t.isSpecialCharacter =
            t.isDigit =
              void 0),
          (t.isDigit = n),
          (t.isSpecialCharacter = a),
          (t.validationEmail = i),
          (t.showAlert = l),
          (t.validateInput = function (e, t) {
            return a(e.value) || n(e.value)
              ? l(`Error: ${t} inválido`)
              : e.value;
          }),
          (t.validateCpf = function (e) {
            return n(e.value) && 11 === e.value.length
              ? e.value
              : l("Error: cpf inválido");
          }),
          (t.validateAge = function (e) {
            return n(e.value) ? e.value : l("Error: idade inválida");
          }),
          (t.validateCep = function (e) {
            return n(e.value) && 8 === e.value.length
              ? e.value
              : l("Error: cep inválido");
          }),
          (t.validateEmail = function (e) {
            return n(e.value) || !i(e.value)
              ? l("Error: email inválido")
              : e.value;
          }),
          (t.validateDescription = function (e) {
            return n(e.value) || e.value.length < 10
              ? l("Error: descrição inválida")
              : e.value;
          }),
          (t.isEmpty = function (e) {
            return "" === e.value.trim();
          }),
          (t.validatePasswordLength = function (e) {
            return !(
              e &&
              e.value.length < 8 &&
              (l("Error: senha muito curta"), 1)
            );
          }),
          (t.validateCnpj = function (e) {
            return n(e.value) && 14 === e.value.length
              ? e.value
              : l("Error: cnpj inválido");
          }),
          (t.parseSkillsInput = function (e) {
            const t = new Set();
            if (e && e.value) {
              const n = e.value.split(/[, ]+/);
              for (const e of n) t.add(e);
            }
            return t;
          }),
          (t.isLoginValid = function (e, t, n) {
            return e.name === t && e.password === n;
          }),
          (t.getInput = function (e) {
            return document.getElementById(e);
          });
      },
    },
    t = {};
  !(function n(a) {
    var i = t[a];
    if (void 0 !== i) return i.exports;
    var l = (t[a] = { exports: {} });
    return e[a].call(l.exports, l, l.exports, n), l.exports;
  })(531);
})();
