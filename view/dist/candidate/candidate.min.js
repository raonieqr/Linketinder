(()=>{"use strict";var e={531:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(i,l){function r(e){try{c(a.next(e))}catch(e){l(e)}}function o(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}c((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=l(n(654)),c=document.getElementById("modal"),u=document.getElementById("behind-modal"),d=document.getElementById("register-c"),s=document.getElementById("show-profile-c"),p=document.getElementById("exitModal");d&&d.addEventListener("click",(function(){window.location.href="./candidate_registration.html"})),s&&s.addEventListener("click",(function(){c&&(c.style.display="flex"),u&&u.classList.add("modalBlur")})),p&&p.addEventListener("click",(function(){c&&(c.style.display="none"),u&&u.classList.remove("modalBlur")}));const v=document.getElementById("sigIn");v&&v.addEventListener("click",(function(){let e=localStorage.getItem("candidateLocal"),t=o.getInput("userName"),n=o.getInput("userPass");if(!e||!t||!n)return void alert("Error: campo vazio");const a=JSON.parse(e);o.isLoginValid(a,t.value,n.value)?window.location.href="./candidate_profile.html":alert("Error: login ou senha inválido")}));const f=document.getElementById("register");f&&f.addEventListener("click",(function(){(function(){if(function(){const e=o.getInput("name"),t=o.getInput("email"),n=o.getInput("skills"),a=o.getInput("age"),i=o.getInput("cpf"),l=o.getInput("cep"),r=o.getInput("password"),c=o.getInput("description");if(o.isEmpty(e)||o.isEmpty(t)||o.isEmpty(n)||o.isEmpty(a)||o.isEmpty(i)||o.isEmpty(l)||o.isEmpty(r)||o.isEmpty(c))return alert("Error: Nenhum campo pode estar vazio"),!1;const u=o.validateInput(e,"nome")&&o.validateCpf(i)&&o.validateAge(a)&&o.validateDescription(c)&&o.validateEmail(t);return!!o.validatePasswordLength(r)&&u}()){const e=o.getInput("name"),t=o.getInput("email"),n=o.getInput("skills"),a=o.getInput("age"),i=o.getInput("cpf"),l=o.getInput("cep"),r=o.getInput("password"),c=o.getInput("description"),u=o.parseSkillsInput(n);if(!(e&&t&&n&&a&&i&&l&&r&&c))return alert("Error: campo vazio"),!1;const d={name:e.value,age:parseInt(a.value,10),email:t.value,skills:Array.from(u).join().toLowerCase().trim().split(/[;, ]+/),description:c.value,cpf:i.value,cep:parseInt(l.value,10),password:r.value,applications:null};return localStorage.setItem("candidateLocal",JSON.stringify(d)),!0}return!1})()&&(window.location.href="./candidate_profile.html")}));const m=o.getInput("cep");function g(){const e=localStorage.getItem("companyLocal"),t=localStorage.getItem("candidateLocal"),n=document.querySelector(".grid");if(!e||!t)return;const a=JSON.parse(e),i=JSON.parse(t);if(!a.vacancy||!a.vacancy.skills||!i.skills)return;const l=a.vacancy.skills.filter((e=>i.skills.includes(e)));if(n){var r=l.length/a.vacancy.skills.length*100;n.innerHTML=` <div id="vacancies">\n      <div class="vacancies-detail">\n        <div class="title">\n          <h3 id="titleVacancy">${a.vacancy.name}</h3>\n          <p id="dateVacancy">${a.vacancy.date}</p>\n        </div>\n        <p id="match">Match: ${r.toFixed(2).toString()}%</p>\n        \x3c!-- <i class="ph-fill ph-heart"></i> --\x3e\n      </div>\n    </div>`}}m&&(null==m||m.addEventListener("focusout",(()=>function(){return r(this,void 0,void 0,(function*(){const e=o.getInput("cep");if(e){const t="https://viacep.com.br/ws/"+e.value+"/json/";try{const e=yield fetch(t);e.ok?function(e){if("erro"in e)!function(){let e=document.getElementById("neighborhood"),t=document.getElementById("city");e&&t&&(e.value="",t.value="")}(),alert("CEP não encontrado.");else{let t=document.getElementById("neighborhood"),n=document.getElementById("city");console.log(e),t&&n&&(t.value=e.bairro,n.value=e.localidade)}}(yield e.json()):console.log("Error: Failed to fetch data from ViaCEP API")}catch(e){console.error("Error:",e)}}}))}()))),g(),document.addEventListener("DOMContentLoaded",(function(){let e=document.getElementById("vacancyLink");e&&e.addEventListener("click",(function(){g()}))})),function(){let e=document.querySelector("tbody"),t=document.querySelector("tbody tr"),n=document.querySelector("table"),a=document.createElement("td"),i=document.createElement("td"),l=document.createElement("td"),r=localStorage.getItem("companyLocal");if(r)var o=JSON.parse(r);o.vacancy&&(a.innerText=o.vacancy.name,i.innerText="x",l.innerText=o.vacancy.skills,null==t||t.appendChild(a),null==t||t.appendChild(i),null==t||t.appendChild(l),t&&e&&(null==e||e.appendChild(t),null==n||n.appendChild(e)))}()},654:(e,t)=>{function n(e){return/^\d+$/.test(e)}function a(e){return/[/[0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(e)}function i(e){return/\S+@\w+\.\w{2,6}(\.\w{2})?/g.test(e)}function l(e){return alert(e),!1}Object.defineProperty(t,"__esModule",{value:!0}),t.getInput=t.isLoginValid=t.parseSkillsInput=t.validateCnpj=t.validatePasswordLength=t.isEmpty=t.validateDescription=t.validateEmail=t.validateCep=t.validateAge=t.validateCpf=t.validateInput=t.showAlert=t.validationEmail=t.isSpecialCharacter=t.isDigit=void 0,t.isDigit=n,t.isSpecialCharacter=a,t.validationEmail=i,t.showAlert=l,t.validateInput=function(e,t){return a(e.value)||n(e.value)?l(`Error: ${t} inválido`):e.value},t.validateCpf=function(e){return n(e.value)&&11===e.value.length?e.value:l("Error: cpf inválido")},t.validateAge=function(e){return n(e.value)?e.value:l("Error: idade inválida")},t.validateCep=function(e){return n(e.value)&&8===e.value.length?e.value:l("Error: cep inválido")},t.validateEmail=function(e){return n(e.value)||!i(e.value)?l("Error: email inválido"):e.value},t.validateDescription=function(e){return n(e.value)||e.value.length<10?l("Error: descrição inválida"):e.value},t.isEmpty=function(e){return""===e.value.trim()},t.validatePasswordLength=function(e){return!(e&&e.value.length<8&&(l("Error: senha muito curta"),1))},t.validateCnpj=function(e){return n(e.value)&&14===e.value.length?e.value:l("Error: cnpj inválido")},t.parseSkillsInput=function(e){const t=new Set;if(e&&e.value){const n=e.value.split(/[, ]+/);for(const e of n)t.add(e)}return t},t.isLoginValid=function(e,t,n){return e.name===t&&e.password===n},t.getInput=function(e){return document.getElementById(e)}}},t={};!function n(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,n),l.exports}(531)})();